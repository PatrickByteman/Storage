{% extends 'base/base.html' %}

{% block content %}
<div class="container">
    <div class="row mt-3">
        <div class="col">
            <form class="" action="" method="post">
                <div class="container">
                {% csrf_token %}
                <div class="col">
                    <div class="pt-1">
                        <label class="form-label" for="types-filter">Filter:</label>
                        {% include 'pages/filtersANDtypes/filter.html' %}
                    </div>
                    <div class="col pt-1" >
                        <label class="form-label" for="types-select">Add New Types:</label>
                        {% include 'pages/filtersANDtypes/types.html' %}
                    </div>
                    <div class="pt-1">
                        <label class="form-label" for="name">Rename Filter:</label>
                        <input type="text" class="form-control" name="rename" value={{ rename }}>
                        <input hidden value="" class="filter-name" name="filter-name">
                    </div>
                    <div class="pt-2 d-grid gap-1">
                        <input class="btn btn-primary" type="submit" value="Edit" />
                    </div>
                    <script>
                        $('#types-filter').change(function() {
                            let $option = $(this).find('option:selected');
                            let value = $option.val();
                            let text = $option.text();
                            console.log(text)
                            if (value) {
                                $('.filter-name').val(text);
                                $('.filter-select').html(value);
                            } else {
                                $('.filter-select').html('Nothing');
                            }
                        });
                    </script>
                </div>
                </div>
            </form>
        </div>
    </div>
</div>
<hr>
{% endblock %}